#include <stdio.h>
#include <string.h>
#include <assert.h>
#include <stdint.h>
#include "lyra_asm.h"

int main(void) {
    // fast_strlen
    const char *s = "Lyra in UNIX";
    size_t a = fast_strlen(s);
    size_t b = strlen(s);
    printf("fast_strlen=\"%zu\", strlen=\"%zu\"\n", a, b);
    assert(a == b);

    // memxor
    uint8_t dst[8] = {1,2,3,4,5,6,7,8};
    uint8_t src[8] = {1,1,1,1,1,1,1,1};
    memxor(dst, src, 8);
    // dst ^= src â†’ {0,3,2,5,4,7,6,9}
    uint8_t expect[8] = {0,3,2,5,4,7,6,9};
    assert(memcmp(dst, expect, 8) == 0);

    puts("OK");
    return 0;
}
